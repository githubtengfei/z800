var _createClass=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){function t(){_classCallCheck(this,t),this.em=$("#main form dl dd em"),this.input=$("#main dl dd input"),this.label=$("#main dl dd label"),this.drag=$("#main dl dd .sliding_block"),this.slide=$("#main dl dd .slide_box"),this.checkbox=$("#main dl dd .checkbox"),this.submit=$("#main dl dd i"),this.sx=null,this.telswitch=!1,this.passwordswitch=!1,this.confirmswitch=!1,this.dragswitch=!1}(new(_createClass(t,[{key:"init",value:function(){var e=this;this.verification(),this.drag.on("mousedown",function(t){t=t||window.event,e.down(t),$(document).on("mousemove",function(t){return t=t||window.event,e.move(t),$(document).on("mouseup",function(){e.up()}),!1})}),this.submit.on("click",function(){e.submitInformation()})}},{key:"verification",value:function(){var t=this;this.input.eq(0).focus(function(){t.label.eq(0).html("为了您的账号安全，请填写常用手机号"),t.label.eq(0).css("color","#666")}),this.input.eq(0).blur(function(){""!=t.input.eq(0).val()?/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1}))+\d{8})$/.test(t.input.eq(0).val())?(t.em.eq(0).show(),t.label.eq(0).html(""),t.telswitch=!0):(t.em.eq(0).hide(),t.label.eq(0).html("手机号码格式错误"),t.label.eq(0).css("color","#e02f2f")):(t.label.eq(0).html("请输入手机号码"),t.label.eq(0).css("color","#e02f2f"))}),this.input.eq(1).focus(function(){t.label.eq(1).html("6-24位字母、数字或半角符号"),t.label.eq(1).css("color","#666")}),this.input.eq(1).blur(function(){""!=t.input.eq(1).val()?/(?!^[0-9]{6,24}$)^[0-9A-Za-z\u0020-\u007e]{6,24}$/.test(t.input.eq(1).val())?(t.em.eq(1).show(),t.label.eq(1).html(""),t.passwordswitch=!0):(t.em.eq(1).hide(),t.input.eq(1).val().split("").length<6?t.label.eq(1).html("密码过短，最短支持6个字符"):24<t.input.eq(1).val().split("").length?t.label.eq(1).html("密码过长，最长支持24个字符"):t.label.eq(1).html("密码应为字母、数字或半角符号的组合"),t.label.eq(1).css("color","#e02f2f")):(t.label.eq(1).html("请输入密码"),t.label.eq(1).css("color","#e02f2f"))}),this.input.eq(2).focus(function(){t.label.eq(2).html("请再次输入您的密码"),t.label.eq(2).css("color","#666")}),this.input.eq(2).blur(function(){""!=t.input.eq(2).val()?t.input.eq(2).val()==t.input.eq(1).val()?(t.em.eq(2).show(),t.label.eq(2).html(""),t.confirmswitch=!0):(t.em.eq(2).hide(),t.label.eq(2).html("两次密码输入不一致"),t.label.eq(2).css("color","#e02f2f")):(t.label.eq(2).html("确认密码不能为空"),t.label.eq(2).css("color","#e02f2f"))})}},{key:"down",value:function(t){this.sx=t.offsetX,console.log(this.sx)}},{key:"move",value:function(t){var e=t.clientX-this.slide.offset().left-this.sx;e<0?e=0:e>this.slide.width()-this.drag.width()&&(e=this.slide.width()-this.drag.width()),this.drag.css("left",e),e==this.slide.width()-this.drag.width()&&(this.slide.html("验证通过"),this.slide.css({background:"#80ff00",color:"#fff"}),this.em.eq(3).show(),this.em.eq(3).css({right:"-27px",top:"3px"}),this.dragswitch=!0)}},{key:"up",value:function(){$(document).off("mousemove"),$(document).off("mouseup")}},{key:"submitInformation",value:function(){var e=this;this.checkbox.get(0).checked?1==this.telswitch&&1==this.passwordswitch&&1==this.confirmswitch&&1==this.dragswitch?$.ajax({url:"http://10.31.163.20/zhe800/projectname/php/register.php",type:"POST",data:{usertel:e.input.eq(0).val(),password:e.input.eq(1).val()},success:function(t){console.log(t),"true"==t?window.location.href="http://10.31.163.20/zhe800/projectname/dist/login.html":(e.label.eq(0).html('用户名已存在，<a href="http://10.31.163.20/zhe800/projectname/dist/login.html">去登录</a>'),e.label.eq(0).css("color","#e02f2f"))}}):alert("请完成注册"):1==this.telswitch&&1==this.passwordswitch&&1==this.confirmswitch&&1!=this.dragswitch||alert("请完成注册")}}]),t)).init()}(),function(){function t(){_classCallCheck(this,t),this.showMore=$("#main .form_right .third_party_login .showmore"),this.showMoreul=$("#main .form_right .third_party_login ul")}(new(_createClass(t,[{key:"init",value:function(){var t=this;this.showMore.on("click",function(){t.show()})}},{key:"show",value:function(){this.showMoreul.height()<=45?this.showMoreul.height(2*this.showMoreul.find("li").height()):this.showMoreul.height(45)}}]),t)).init()}();